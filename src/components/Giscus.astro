---
interface Props {
  category: "essays" | "inspirations" | "journals" | "lessons" | "questions";
}

const { category } = Astro.props;

const REPO = "ComputelessComputer/part-of-my-brain";
const REPO_ID = "R_kgDOQyThnQ";

const CATEGORY_IDS: Record<string, string> = {
  essays: "DIC_kwDOQyThnc4C0ehA",
  inspirations: "DIC_kwDOQyThnc4C0ehC",
  journals: "DIC_kwDOQyThnc4C0eg4",
  lessons: "DIC_kwDOQyThnc4C0ehD",
  questions: "DIC_kwDOQyThnc4C0ehE",
};

const categoryId = CATEGORY_IDS[category];
---

<section class="giscus-container">
  <script
    src="https://giscus.app/client.js"
    data-repo={REPO}
    data-repo-id={REPO_ID}
    data-category={category}
    data-category-id={categoryId}
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async
  ></script>
</section>

<style>
  .giscus-container {
    margin-top: 3rem;
    padding-top: 2rem;
    border-top: 1px solid #eee;
  }
</style>
