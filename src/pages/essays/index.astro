---
import { getCollection } from "astro:content";
import Base from "../../layouts/Base.astro";

const essays = await getCollection("essays");
const sortedEssays = essays.sort((a, b) =>
  new Date(b.data.created_at).getTime() - new Date(a.data.created_at).getTime()
);
---

<Base title="Essays - John Jeong">
  <nav style="margin-bottom: 2rem;">
    <a href="/">â† Home</a>
  </nav>

  <h1>Essays</h1>

  <ul style="margin-top: 2rem;">
    {sortedEssays.map((essay) => (
      <li style="margin-bottom: 1rem;">
        <a href={`/essays/${essay.id}`}>{essay.data.title}</a>
        <br />
        <small style="color: #666;">
          {essay.data.created_at.toLocaleDateString("en-US", {
            year: "numeric",
            month: "long",
            day: "numeric",
          })}
        </small>
      </li>
    ))}
  </ul>
</Base>
